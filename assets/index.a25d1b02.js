import{c as P,a as x,b as O,d as L,r as C,o as b,e as E,f as d,g as l,w as h,p as M,h as k,i as v,j as m,k as A,l as I,m as V,n as $,s as y,t as B,I as g,q as G,u as H}from"./vendor.fa4e6f09.js";const N=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerpolicy&&(t.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?t.credentials="include":n.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(n){if(n.ep)return;n.ep=!0;const t=r(n);fetch(n.href,t)}};N();const j="modulepreload",S={},z="/idle-game/",f=function(i,r){return!r||r.length===0?i():Promise.all(r.map(s=>{if(s=`${z}${s}`,s in S)return;S[s]=!0;const n=s.endsWith(".css"),t=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${t}`))return;const o=document.createElement("link");if(o.rel=n?"stylesheet":j,n||(o.as="script",o.crossOrigin=""),o.href=s,document.head.appendChild(o),n)return new Promise((a,p)=>{o.addEventListener("load",a),o.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>i())},D=[{path:"/factory",name:"Factory",component:()=>f(()=>import("./index.c4d8d7f8.js"),["assets/index.c4d8d7f8.js","assets/BaseCard.1334195f.js","assets/vendor.fa4e6f09.js"])},{path:"/inventory",name:"Inventory",component:()=>f(()=>import("./index.285990a4.js"),["assets/index.285990a4.js","assets/index.eb47467b.css","assets/BaseCard.1334195f.js","assets/vendor.fa4e6f09.js"])},{path:"/science",name:"Science",component:()=>f(()=>import("./index.07e3dfcd.js"),["assets/index.07e3dfcd.js","assets/index.02fa0525.css","assets/BaseCard.1334195f.js","assets/vendor.fa4e6f09.js"])}],F=P({history:x("/idle-game/"),routes:D});var U={hello:e=>{const{normalize:i}=e;return i(["Hello World"])}},J=Object.freeze(Object.defineProperty({__proto__:null,default:U},Symbol.toStringTag,{value:"Module"}));const K=Object.fromEntries(Object.entries({"../../i18n/en.yml":J}).map(([e,i])=>{const r=e.endsWith(".yaml");return[e.slice(11,r?-5:-4),i.default]})),Q=O({legacy:!1,locale:"en",messages:K}),_=L();var X=(e,i)=>{const r=e.__vccOpts||e;for(const[s,n]of i)r[s]=n;return r};const Y={},R=e=>(M("data-v-2c720ef1"),e=e(),k(),e),Z={class:"h-16 flex justify-between items-center bg-true-gray-800"},ee=R(()=>d("div",null,null,-1)),te={class:"space-x-8"},ne=v("Inventory"),re=v("Factory"),ie=v("Science"),se=R(()=>d("div",null,null,-1));function oe(e,i){const r=C("router-link");return b(),E("nav",Z,[ee,d("div",te,[l(r,{to:{name:"Inventory"}},{default:h(()=>[ne]),_:1}),l(r,{to:{name:"Factory"}},{default:h(()=>[re]),_:1}),l(r,{to:{name:"Science"}},{default:h(()=>[ie]),_:1})]),se])}var ce=X(Y,[["render",oe],["__scopeId","data-v-2c720ef1"]]);const ae={inventory:[]},T=m("inventory",{state:()=>ae,actions:{},getters:{}});var c=(e=>(e.Capacitor="Capacitor",e.Cog="Cog",e.Copper="Copper",e.CopperWire="Copper Wire",e.ElectricCoil="Electric Coil",e.ElectricGenerator="Electric Generator",e.ElectricRelay="Electric Relay",e.ElectricResistor="Electric Resistor",e.ElectricSwitch="Electric Switch",e.Glass="Glass",e.InsulatedWire="Insulated Wire",e.Iron="Iron",e.Magnet="Magnet",e.Magnetit="Magnetit",e.Methan="Methan",e.Petroleum="Petroleum",e.Plastic="Plastic",e.Sand="Sand",e.Screw="Screw",e.Stone="Stone",e.Water="Water",e.Wood="Wood",e.WoodenChair="Wooden Chair",e.WoodenPlank="Wooden Plank",e))(c||{}),W=(e=>(e.Alpha="Test 1",e.Beta="Test 2",e))(W||{});const le=[{name:"Test 1",researchTime:10,requirements:{items:[{item:c.Water,amount:5},{item:c.CopperWire,amount:1}],sciences:[]}},{name:"Test 2",researchTime:5,requirements:{items:[{item:c.Water,amount:5},{item:c.CopperWire,amount:1}],sciences:["Test 1"]}}],q=[{item:c.Copper,productionTime:4,requirements:{sciences:[]},ingredients:[]},{item:c.Iron,productionTime:6,requirements:{sciences:[]},ingredients:[]},{item:c.Water,productionTime:1,requirements:{sciences:[]},ingredients:[]},{item:c.Sand,productionTime:1,requirements:{sciences:[]},ingredients:[]},{item:c.Stone,productionTime:1,requirements:{sciences:[]},ingredients:[]},{item:c.Magnetit,productionTime:600,requirements:{sciences:[]},ingredients:[]}],w=[...q,{item:c.CopperWire,productionTime:4,requirements:{sciences:[]},ingredients:[{item:c.Copper,amount:3}]},{item:c.Plastic,productionTime:2,requirements:{sciences:[]},ingredients:[]},{item:c.InsulatedWire,productionTime:6,requirements:{sciences:[W.Alpha]},ingredients:[{item:c.CopperWire,amount:1},{item:c.Plastic,amount:2}]}],ue={generators:q.map(e=>({blueprint:e,timer:0}))},de=m("generator",{state:()=>ue,actions:{generate(e){const i=T();this.generators.forEach(r=>{const s=w.find(n=>r.blueprint.item===n.item);if(s&&(s.ingredients.every(t=>{const o=i.inventory.find(a=>a.item===t.item);return o?o.amount>=t.amount:!1})&&r.timer===0&&(r.timer+=e,s.ingredients.forEach(t=>{const o=i.inventory.find(a=>a.item===t.item);o&&(o.amount-=t.amount)})),r.timer>0&&(r.timer+=e,r.timer>=r.blueprint.productionTime))){r.timer=0;const t=i.inventory.find(o=>o.item===r.blueprint.item);t?t.amount++:i.inventory.push({item:r.blueprint.item,amount:1})}})}},getters:{}}),me={currentResearch:null,researched:[]},pe=m("science",{state:()=>me,actions:{startResearch(e){const i=T();e.requirements.items.every(s=>{const n=i.inventory.find(t=>t.item===s.item);if(n)return n.amount>=s.amount})&&(e.requirements.items.forEach(s=>{const n=i.inventory.find(t=>t.item===s.item);n&&(n.amount-=s.amount)}),this.currentResearch={science:e,time:0})},research(e){this.currentResearch&&(this.currentResearch.time+=e,this.currentResearch.time>=this.currentResearch.science.researchTime&&(this.researched.push(this.currentResearch.science.name),this.currentResearch=null))}},getters:{blueprints:e=>w.filter(i=>i.requirements.sciences.every(r=>e.researched.includes(r))),sciences:e=>le.filter(i=>{var n;const r=i.requirements.sciences.every(t=>e.researched.includes(t)),s=((n=e.currentResearch)==null?void 0:n.science.name)===i.name;return r&&!s})}}),he={timePassed:0},fe=m("base",{state:()=>he,actions:{update(e){const i=de(),r=pe();i.generate(e),r.research(e),this.timePassed+=e}},getters:{}});const _e={class:"text-true-gray-200"},ve={class:"gap-16 p-8"},ye=A({setup(e){const i=fe(),r=()=>{const t=y.get("alexvoedi-idle-game");t&&(_.state.value=t)};let s;const n=()=>{let t=Date.now();s=setInterval(()=>{const o=Date.now(),a=o-t;i.update(a/1e3),t=o},50)};return I(async()=>{r(),n()}),V(_.state,t=>{y.set("alexvoedi-idle-game",B(t))},{deep:!0}),$(()=>{clearInterval(s)}),(t,o)=>{const a=ce,p=C("router-view");return b(),E("div",_e,[l(a),d("div",ve,[l(p)])])}}});const ge=g.default||g,Se=JSON.parse('[{"prefix":"fontisto","width":24,"height":24,"icons":{"laboratory":{"body":"<path fill=\\"currentColor\\" d=\\"M22.171 19.68L14.819 8.369V2.962h1.708V0H6.098v2.965H7.82v5.407L.454 19.68A2.792 2.792 0 0 0 2.791 24h17.034a2.8 2.8 0 0 0 2.34-4.331l.007.011zm-.905 2.302a1.633 1.633 0 0 1-1.434.854H2.791a1.635 1.635 0 0 1-1.37-2.531l-.004.006l7.549-11.6V2.96h4.686v5.754l7.541 11.6c.17.251.272.561.272.895c0 .285-.074.553-.204.785l.004-.008z\\"/><path fill=\\"currentColor\\" d=\\"M14.412 12.351H8.221l-5.655 8.698a.287.287 0 0 0-.012.299l-.001-.001c.05.087.142.145.248.146h17.032a.283.283 0 0 0 .247-.145l.001-.001a.283.283 0 0 0-.013-.298l.001.001z\\"/>","width":23}}}]');Se.forEach(e=>ge.addCollection(e));const u=G(ye),Ce=H();u.use(F);u.use(_);u.use(Ce);u.use(Q);u.mount("#app");export{X as _,de as a,T as b,pe as u};
