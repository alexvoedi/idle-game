import{_ as T,u as A,a as G,b as F,c as N,d as O,e as q}from"./index.6f6d3dd2.js";import{_ as L}from"./Table.5370efcb.js";import{o as a,e as f,g as t,f as I,i as C,G as k,H as z,J as B,u as c,s as S,k as l,j as _,q as b,t as v,F as w,p as M,m as j}from"./vendor.6b5c0dfd.js";import{_ as E}from"./clock.05204a6b.js";import{_ as D}from"./ProgressBar.4e3b7b32.js";const H={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},J=t("path",{fill:"currentColor",d:"M2 19.63L13.43 8.2l-.71-.7l1.42-1.43L12 3.89c1.2-1.19 3.09-1.19 4.27 0l3.6 3.61l-1.42 1.41h2.84l.71.71l-3.55 3.59l-.71-.71V9.62l-1.47 1.42l-.71-.71L4.13 21.76L2 19.63Z"},null,-1),R=[J];function Y(o,n){return a(),f("svg",H,R)}var Z={name:"mdi-hammer",render:Y};const K=["width","height","viewBox"],Q=["cx","cy","r","stroke-dasharray","stroke-dashoffset"],U=["cx","cy","r","stroke-dasharray","stroke-dashoffset"],V=I({props:{progress:null},setup(o){const n=o,e=C(10),u=k(()=>2*e.value),m=C(!0);z(()=>{n.progress===0&&(m.value=!m.value)});const s=k(()=>2*Math.PI*(e.value-2));return(i,g)=>(a(),f("svg",{width:c(u),height:c(u),viewBox:`0 0 ${c(u)} ${c(u)}`,class:"transform rotate-270"},[t("circle",{class:B([m.value?"stroke-indigo-600":"stroke-emerald-500"]),cx:e.value,cy:e.value,r:e.value-2,fill:"none","stroke-width":"3","stroke-dasharray":c(s),"stroke-dashoffset":(1-c(s))*o.progress},null,10,Q),t("circle",{class:B([m.value?"stroke-emerald-500":"stroke-indigo-600"]),cx:e.value,cy:e.value,r:e.value-2,fill:"none","stroke-width":"3","stroke-dasharray":c(s),"stroke-dashoffset":c(s)*(1-o.progress)},null,10,U)],8,K))}});const W=o=>(M("data-v-068a9dc4"),o=o(),j(),o),X=W(()=>t("div",{class:"px-8 pt-6"},[t("h2",{class:"text-2xl font-bold"},"Inactive Productions")],-1)),tt={class:"text-right"},et={class:"text-right"},st={class:"text-right"},ot={class:"text-right"},nt={class:"flex justify-end"},ct=["onClick"],rt=I({setup(o){const n=A(),{getItem:e}=G(),u=k(()=>n.generators.filter(s=>!s.active).map(s=>{const{output:i,input:g}=s.blueprint,x=n.calculateProductionTime(s);return{generator:s,productionTime:x.toFixed(2),progress:s.timer/x,output:i.map(p=>({name:e(p.id).name,amount:p.amount})),input:g==null?void 0:g.map(p=>({name:e(p.id).name,amount:p.amount}))}})),m=C([{id:"progress",text:"",field:"progress",classes:"w-10"},{id:"output",text:"Output",field:"output",classes:"text-right font-mono"},{id:"input",text:"Input",field:"input",classes:"text-right",headerClasses:"text-center",bodyClasses:"font-mono"},{id:"productionTime",text:"",field:"productionTime",classes:"text-right",bodyClasses:"font-mono"},{id:"actions",text:"",field:"actions",bodyClasses:"text-right"}]);return(s,i)=>{const g=E,x=V,p=Z,d=L,y=F;return a(),S(y,{class:"space-y-8 overflow-hidden"},{default:l(()=>[X,_(d,{items:c(u),columns:m.value},{"productionTime-header":l(()=>[_(g,{class:"ml-auto"})]),progress:l(({item:$})=>[_(x,{progress:$.progress},null,8,["progress"])]),output:l(({item:$})=>[(a(!0),f(w,null,b($.output,(r,h)=>(a(),f("div",{key:h,class:"grid grid-cols-[4fr,1fr] gap-4"},[t("div",tt,v(r.name),1),t("div",et,v(r.amount),1)]))),128))]),input:l(({item:$})=>[(a(!0),f(w,null,b($.input,(r,h)=>(a(),f("div",{key:h,class:"grid grid-cols-[4fr,1fr] gap-4"},[t("div",st,v(r.name),1),t("div",ot,v(r.amount),1)]))),128))]),actions:l(({item:$})=>[t("div",nt,[t("button",{onClick:r=>c(n).setGeneratorActive($.generator,!0),class:"flex items-center"},[_(p)],8,ct)])]),_:1},8,["items","columns"])]),_:1})}}});var at=T(rt,[["__scopeId","data-v-068a9dc4"]]);const it=o=>(M("data-v-7aeb56ad"),o=o(),j(),o),dt=it(()=>t("div",{class:"px-8 pt-6"},[t("h2",{class:"text-2xl font-bold"},"Active Productions")],-1)),lt={class:"text-right"},_t={class:"text-right"},ut={class:"text-right"},pt={class:"text-right"},mt={class:"flex justify-end"},ht=["onClick"],ft=I({setup(o){const n=A(),e=N(),{getItem:u}=G(),m=k(()=>n.generators.filter(i=>i.active).map(i=>{const{output:g,input:x}=i.blueprint,p=n.calculateProductionTime(i);return{generator:i,productionTime:p.toFixed(2),progress:i.timer/p,output:g.map(d=>({name:u(d.id).name,amount:d.amount})),input:x==null?void 0:x.map(d=>{const y=e.getItem(d.id);return y&&console.log(g,d.amount,y.amount,y.amount>=d.amount),{name:u(d.id).name,amount:d.amount,hasEnough:y?y.amount>=d.amount:!1}})}})),s=C([{id:"progress",text:"",field:"progress",classes:"w-10"},{id:"output",text:"Output",field:"output",classes:"text-right font-mono"},{id:"input",text:"Input",field:"input",classes:"text-right",headerClasses:"text-center",bodyClasses:"font-mono"},{id:"productionTime",text:"",field:"productionTime",classes:"text-right",bodyClasses:"font-mono"},{id:"actions",text:"",field:"actions",bodyClasses:"text-right"}]);return(i,g)=>{const x=E,p=V,d=O,y=L,$=F;return a(),S($,{class:"space-y-8 overflow-hidden"},{default:l(()=>[dt,_(y,{items:c(m),columns:s.value},{"productionTime-header":l(()=>[_(x,{class:"ml-auto"})]),progress:l(({item:r})=>[_(p,{progress:r.progress},null,8,["progress"])]),output:l(({item:r})=>[(a(!0),f(w,null,b(r.output,(h,P)=>(a(),f("div",{key:P,class:"grid grid-cols-[4fr,1fr] gap-4"},[t("div",lt,v(h.name),1),t("div",_t,v(h.amount),1)]))),128))]),input:l(({item:r})=>[(a(!0),f(w,null,b(r.input,(h,P)=>(a(),f("div",{key:P},[t("div",{class:B([[h.hasEnough?"text-green-500":"text-red-500"],"grid grid-cols-[4fr,1fr] gap-4"])},[t("div",ut,v(h.name),1),t("div",pt,v(h.amount),1)],2)]))),128))]),actions:l(({item:r})=>[t("div",mt,[t("button",{onClick:h=>c(n).setGeneratorActive(r.generator,!1),class:"flex items-center"},[_(d)],8,ht)])]),_:1},8,["items","columns"])]),_:1})}}});var vt=T(ft,[["__scopeId","data-v-7aeb56ad"]]);const gt={class:"px-12 py-6"},xt={class:"flex items-center justify-between gap-16"},yt={class:"text-center"},$t={class:"font-bold text-4xl font-mono"},kt=t("div",{class:"text-sm"},"Active Productions",-1),Ct={class:"text-center"},bt={class:"font-bold text-4xl font-mono"},wt=t("div",{class:"text-sm"},"Maximum Production",-1),It={class:"text-center"},Pt={class:"font-bold text-4xl font-mono"},Bt=t("div",{class:"text-sm"},"Percent Active",-1),Tt=I({setup(o){const n=A(),e=k(()=>n.activeGeneratorCount/n.maxActiveGenerators);return(u,m)=>{const s=D,i=F;return a(),S(i,{class:"overflow-hidden"},{default:l(()=>[t("div",gt,[t("div",xt,[t("div",yt,[t("div",$t,v(c(n).activeGeneratorCount),1),kt]),t("div",Ct,[t("div",bt,v(c(n).maxActiveGenerators),1),wt]),t("div",It,[t("div",Pt,v((100*c(e)).toFixed(2))+"% ",1),Bt])])]),_(s,{progress:c(e)},null,8,["progress"])]),_:1})}}}),At={},Ft={class:"space-y-8"},St={class:"text-3xl font-bold flex items-center gap-4"},Gt=t("span",null,"Factory",-1),Lt={class:"grid grid-cols-1 gap-8",xl:"grid-cols-2"};function Mt(o,n){const e=q,u=Tt,m=vt,s=at;return a(),f("div",Ft,[t("h1",St,[_(e),Gt]),_(u),t("div",Lt,[_(m),_(s)])])}var qt=T(At,[["render",Mt]]);export{qt as default};
