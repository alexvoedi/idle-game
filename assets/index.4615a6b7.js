import{_ as B}from"./BaseCard.f3bd5570.js";import{_ as F}from"./Table.b5c8679a.js";import{o as s,e as i,f as t,g as C,B as $,C as y,D as N,E as A,u as a,j as P,w as d,i as u,h as k,t as f,G,F as b,p as S,l as M}from"./vendor.fa9a4d3e.js";import{_ as j}from"./clock.cc10cf05.js";import{_ as I,u as T,a as V,b as D}from"./index.5a26b072.js";import{_ as O}from"./ProgressBar.9e686f47.js";const R={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},Y=t("path",{fill:"currentColor",d:"M2 19.63L13.43 8.2l-.71-.7l1.42-1.43L12 3.89c1.2-1.19 3.09-1.19 4.27 0l3.6 3.61l-1.42 1.41h2.84l.71.71l-3.55 3.59l-.71-.71V9.62l-1.47 1.42l-.71-.71L4.13 21.76L2 19.63Z"},null,-1),Z=[Y];function z(n,c){return s(),i("svg",R,Z)}var q={name:"mdi-hammer",render:z};const H=["width","height","viewBox"],J=["cx","cy","r","stroke-dasharray","stroke-dashoffset"],K=["cx","cy","r","stroke-dasharray","stroke-dashoffset"],E=C({props:{progress:null},setup(n){const c=n,o=$(10),p=y(()=>2*o.value),h=$(!0);N(()=>{c.progress===0&&(h.value=!h.value)});const e=y(()=>2*Math.PI*(o.value-2));return(x,m)=>(s(),i("svg",{width:a(p),height:a(p),viewBox:`0 0 ${a(p)} ${a(p)}`,class:"transform rotate-270"},[t("circle",{class:A([h.value?"stroke-indigo-600":"stroke-emerald-500"]),cx:o.value,cy:o.value,r:o.value-2,fill:"none","stroke-width":"3","stroke-dasharray":a(e),"stroke-dashoffset":(1-a(e))*n.progress},null,10,J),t("circle",{class:A([h.value?"stroke-emerald-500":"stroke-indigo-600"]),cx:o.value,cy:o.value,r:o.value-2,fill:"none","stroke-width":"3","stroke-dasharray":a(e),"stroke-dashoffset":a(e)*(1-n.progress)},null,10,K)],8,H))}});const Q=n=>(S("data-v-21b92b59"),n=n(),M(),n),U=Q(()=>t("div",{class:"px-8 pt-6"},[t("h2",{class:"text-2xl font-bold"},"Inactive Productions")],-1)),W={key:0},X={class:"flex justify-end"},tt=["onClick"],et=C({setup(n){const c=T(),{getItem:o}=V(),p=y(()=>c.generators.filter(e=>!e.active).map(e=>{const{output:x,input:m}=e.blueprint,v=c.calculateProductionTime(e);return{generator:e,productionTime:v.toFixed(2),progress:e.timer/v,output:x.map(_=>({name:o(_.id).name,amount:_.amount})),input:m==null?void 0:m.map(_=>({name:o(_.id).name,amount:_.amount}))}})),h=$([{id:"progress",text:"",field:"progress",classes:"w-10"},{id:"output",text:"Output",field:"output",classes:"text-left font-mono"},{id:"input",text:"Input",field:"input",classes:"text-right",bodyClasses:"font-mono"},{id:"productionTime",text:"Production Time",field:"productionTime",classes:"text-right",bodyClasses:"font-mono"},{id:"actions",text:"",field:"actions",bodyClasses:"text-right"}]);return(e,x)=>{const m=j,v=E,_=q,w=F,L=B;return s(),P(L,{class:"space-y-8 overflow-hidden"},{default:d(()=>[U,u(w,{items:a(p),columns:h.value},{"productionTime-header":d(()=>[u(m,{class:"ml-auto"})]),progress:d(({item:r})=>[u(v,{progress:r.progress},null,8,["progress"])]),output:d(({item:r})=>[(s(!0),i(b,null,k(r.output,(l,g)=>(s(),i("div",{key:g,class:""},[t("span",null,f(l.name),1),l.amount>1?(s(),i("span",W," * "+f(l.amount),1)):G("",!0)]))),128))]),input:d(({item:r})=>[(s(!0),i(b,null,k(r.input,(l,g)=>(s(),i("div",{key:g},f(l.name)+" * "+f(l.amount),1))),128))]),actions:d(({item:r})=>[t("div",X,[t("button",{onClick:l=>a(c).setGeneratorActive(r.generator,!0),class:"flex items-center"},[u(_)],8,tt)])]),_:1},8,["items","columns"])]),_:1})}}});var ot=I(et,[["__scopeId","data-v-21b92b59"]]);const st={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},nt=t("path",{fill:"currentColor",d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"},null,-1),ct=[nt];function rt(n,c){return s(),i("svg",st,ct)}var at={name:"mdi-close",render:rt};const it=n=>(S("data-v-e67db52c"),n=n(),M(),n),_t=it(()=>t("div",{class:"px-8 pt-6"},[t("h2",{class:"text-2xl font-bold"},"Active Productions")],-1)),lt={key:0},dt={key:0},ut={key:1},mt={class:"flex justify-end"},pt=["onClick"],ht=C({setup(n){const c=T(),{getItem:o}=V(),p=y(()=>c.generators.filter(e=>e.active).map(e=>{const{output:x,input:m}=e.blueprint,v=c.calculateProductionTime(e);return{generator:e,productionTime:v.toFixed(2),progress:e.timer/v,output:x.map(_=>({name:o(_.id).name,amount:_.amount})),input:m==null?void 0:m.map(_=>({name:o(_.id).name,amount:_.amount}))}})),h=$([{id:"progress",text:"",field:"progress",classes:"w-10"},{id:"output",text:"Output",field:"output",classes:"text-left font-mono"},{id:"input",text:"Input",field:"input",classes:"text-right",bodyClasses:"font-mono"},{id:"productionTime",text:"",field:"productionTime",classes:"text-right",bodyClasses:"font-mono"},{id:"actions",text:"",field:"actions",bodyClasses:"text-right"}]);return(e,x)=>{const m=j,v=E,_=at,w=F,L=B;return s(),P(L,{class:"space-y-8 overflow-hidden"},{default:d(()=>[_t,u(w,{items:a(p),columns:h.value},{"productionTime-header":d(()=>[u(m,{class:"ml-auto"})]),progress:d(({item:r})=>[u(v,{progress:r.progress},null,8,["progress"])]),output:d(({item:r})=>[(s(!0),i(b,null,k(r.output,(l,g)=>(s(),i("div",{key:g,class:""},[t("span",null,f(l.name),1),l.amount>1?(s(),i("span",lt," * "+f(l.amount),1)):G("",!0)]))),128))]),input:d(({item:r})=>[r.input?(s(),i("div",dt,[(s(!0),i(b,null,k(r.input,(l,g)=>(s(),i("div",{key:g},f(l.name)+" * "+f(l.amount),1))),128))])):(s(),i("div",ut,"-"))]),actions:d(({item:r})=>[t("div",mt,[t("button",{onClick:l=>a(c).setGeneratorActive(r.generator,!1),class:"flex items-center"},[u(_)],8,pt)])]),_:1},8,["items","columns"])]),_:1})}}});var ft=I(ht,[["__scopeId","data-v-e67db52c"]]);const vt={class:"px-12 py-6"},xt={class:"flex items-center justify-between gap-16"},gt={class:"text-center"},yt={class:"font-bold text-4xl font-mono"},$t=t("div",{class:"text-sm"},"Active Productions",-1),kt={class:"text-center"},bt={class:"font-bold text-4xl font-mono"},Ct=t("div",{class:"text-sm"},"Maximum Production",-1),wt={class:"text-center"},Lt={class:"font-bold text-4xl font-mono"},Bt=t("div",{class:"text-sm"},"Percent Active",-1),Pt=C({setup(n){const c=T(),o=y(()=>c.activeGeneratorCount/c.maxActiveGenerators);return(p,h)=>{const e=O,x=B;return s(),P(x,{class:"overflow-hidden"},{default:d(()=>[t("div",vt,[t("div",xt,[t("div",gt,[t("div",yt,f(a(c).activeGeneratorCount),1),$t]),t("div",kt,[t("div",bt,f(a(c).maxActiveGenerators),1),Ct]),t("div",wt,[t("div",Lt,f((100*a(o)).toFixed(2))+"% ",1),Bt])])]),u(e,{progress:a(o)},null,8,["progress"])]),_:1})}}}),It={},Tt={class:"space-y-8"},At={class:"text-3xl font-bold flex items-center gap-4"},Ft=t("span",null,"Factory",-1),Gt={class:"grid grid-cols-1 gap-8",xl:"grid-cols-2"};function St(n,c){const o=D,p=Pt,h=ft,e=ot;return s(),i("div",Tt,[t("h1",At,[u(o),Ft]),u(p),t("div",Gt,[u(h),u(e)])])}var Ot=I(It,[["render",St]]);export{Ot as default};
