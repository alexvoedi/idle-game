import{_ as L}from"./BaseCard.bf6e05b2.js";import{_ as A}from"./Table.2bafb1f2.js";import{o,e as i,f as t,g as b,B as $,C as y,D as V,E as T,u as a,j as P,w as m,i as h,h as k,t as f,G as F,F as C,p as G,l as S}from"./vendor.f8f6a6c4.js";import{_ as B,u as I,a as M,b as E}from"./index.2b9d32fa.js";import{_ as N}from"./ProgressBar.4a9707b6.js";const D={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},O=t("path",{fill:"currentColor",d:"M2 19.63L13.43 8.2l-.71-.7l1.42-1.43L12 3.89c1.2-1.19 3.09-1.19 4.27 0l3.6 3.61l-1.42 1.41h2.84l.71.71l-3.55 3.59l-.71-.71V9.62l-1.47 1.42l-.71-.71L4.13 21.76L2 19.63Z"},null,-1),R=[O];function Y(n,c){return o(),i("svg",D,R)}var Z={name:"mdi-hammer",render:Y};const z=["width","height","viewBox"],q=["cx","cy","r","stroke-dasharray","stroke-dashoffset"],H=["cx","cy","r","stroke-dasharray","stroke-dashoffset"],j=b({props:{progress:null},setup(n){const c=n,s=$(10),u=y(()=>2*s.value),p=$(!0);V(()=>{c.progress===0&&(p.value=!p.value)});const e=y(()=>2*Math.PI*(s.value-2));return(x,d)=>(o(),i("svg",{width:a(u),height:a(u),viewBox:`0 0 ${a(u)} ${a(u)}`,class:"transform rotate-270"},[t("circle",{class:T([p.value?"stroke-indigo-600":"stroke-emerald-500"]),cx:s.value,cy:s.value,r:s.value-2,fill:"none","stroke-width":"3","stroke-dasharray":a(e),"stroke-dashoffset":(1-a(e))*n.progress},null,10,q),t("circle",{class:T([p.value?"stroke-emerald-500":"stroke-indigo-600"]),cx:s.value,cy:s.value,r:s.value-2,fill:"none","stroke-width":"3","stroke-dasharray":a(e),"stroke-dashoffset":a(e)*(1-n.progress)},null,10,H)],8,z))}});const J=n=>(G("data-v-bb8124c4"),n=n(),S(),n),K=J(()=>t("div",{class:"px-8 pt-6"},[t("h2",{class:"text-2xl font-bold"},"Inactive Productions")],-1)),Q={key:0},U={class:"flex justify-end"},W=["onClick"],X=b({setup(n){const c=I(),{getItem:s}=M(),u=y(()=>c.generators.filter(e=>!e.active).map(e=>{const{output:x,input:d}=e.blueprint,v=c.calculateProductionTime(e);return{generator:e,productionTime:v.toFixed(2),progress:e.timer/v,output:x.map(l=>({name:s(l.id).name,amount:l.amount})),input:d==null?void 0:d.map(l=>({name:s(l.id).name,amount:l.amount}))}})),p=$([{id:"progress",text:"",field:"progress",classes:"w-10"},{id:"output",text:"Output",field:"output",classes:"text-left font-mono"},{id:"input",text:"Input",field:"input",classes:"text-right",bodyClasses:"font-mono"},{id:"productionTime",text:"Production Time",field:"productionTime",classes:"text-right",bodyClasses:"font-mono"},{id:"actions",text:"",field:"actions",bodyClasses:"text-right"}]);return(e,x)=>{const d=j,v=Z,l=A,w=L;return o(),P(w,{class:"space-y-8 overflow-hidden"},{default:m(()=>[K,h(l,{items:a(u),columns:p.value},{progress:m(({item:r})=>[h(d,{progress:r.progress},null,8,["progress"])]),output:m(({item:r})=>[(o(!0),i(C,null,k(r.output,(_,g)=>(o(),i("div",{key:g,class:""},[t("span",null,f(_.name),1),_.amount>1?(o(),i("span",Q," * "+f(_.amount),1)):F("",!0)]))),128))]),input:m(({item:r})=>[(o(!0),i(C,null,k(r.input,(_,g)=>(o(),i("div",{key:g},f(_.name)+" * "+f(_.amount),1))),128))]),actions:m(({item:r})=>[t("div",U,[t("button",{onClick:_=>a(c).setGeneratorActive(r.generator,!0),class:"flex items-center"},[h(v)],8,W)])]),_:1},8,["items","columns"])]),_:1})}}});var tt=B(X,[["__scopeId","data-v-bb8124c4"]]);const et={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},st=t("path",{fill:"currentColor",d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"},null,-1),ot=[st];function nt(n,c){return o(),i("svg",et,ot)}var ct={name:"mdi-close",render:nt};const rt=n=>(G("data-v-119cee73"),n=n(),S(),n),at=rt(()=>t("div",{class:"px-8 pt-6"},[t("h2",{class:"text-2xl font-bold"},"Active Productions")],-1)),it={key:0},lt={key:0},_t={key:1},dt={class:"flex justify-end"},ut=["onClick"],pt=b({setup(n){const c=I(),{getItem:s}=M(),u=y(()=>c.generators.filter(e=>e.active).map(e=>{const{output:x,input:d}=e.blueprint,v=c.calculateProductionTime(e);return{generator:e,productionTime:v.toFixed(2),progress:e.timer/v,output:x.map(l=>({name:s(l.id).name,amount:l.amount})),input:d==null?void 0:d.map(l=>({name:s(l.id).name,amount:l.amount}))}})),p=$([{id:"progress",text:"",field:"progress",classes:"w-10"},{id:"output",text:"Output",field:"output",classes:"text-left font-mono"},{id:"input",text:"Input",field:"input",classes:"text-right",bodyClasses:"font-mono"},{id:"productionTime",text:"Production Time",field:"productionTime",classes:"text-right",bodyClasses:"font-mono"},{id:"actions",text:"",field:"actions",bodyClasses:"text-right"}]);return(e,x)=>{const d=j,v=ct,l=A,w=L;return o(),P(w,{class:"space-y-8 overflow-hidden"},{default:m(()=>[at,h(l,{items:a(u),columns:p.value},{progress:m(({item:r})=>[h(d,{progress:r.progress},null,8,["progress"])]),output:m(({item:r})=>[(o(!0),i(C,null,k(r.output,(_,g)=>(o(),i("div",{key:g,class:""},[t("span",null,f(_.name),1),_.amount>1?(o(),i("span",it," * "+f(_.amount),1)):F("",!0)]))),128))]),input:m(({item:r})=>[r.input?(o(),i("div",lt,[(o(!0),i(C,null,k(r.input,(_,g)=>(o(),i("div",{key:g},f(_.name)+" * "+f(_.amount),1))),128))])):(o(),i("div",_t,"-"))]),actions:m(({item:r})=>[t("div",dt,[t("button",{onClick:_=>a(c).setGeneratorActive(r.generator,!1),class:"flex items-center"},[h(v)],8,ut)])]),_:1},8,["items","columns"])]),_:1})}}});var mt=B(pt,[["__scopeId","data-v-119cee73"]]);const ht={class:"px-12 py-6"},ft={class:"flex items-center justify-between gap-16"},vt={class:"text-center"},xt={class:"font-bold text-4xl font-mono"},gt=t("div",{class:"text-sm"},"Active Productions",-1),yt={class:"text-center"},$t={class:"font-bold text-4xl font-mono"},kt=t("div",{class:"text-sm"},"Maximum Production",-1),Ct={class:"text-center"},bt={class:"font-bold text-4xl font-mono"},wt=t("div",{class:"text-sm"},"Percent Active",-1),Lt=b({setup(n){const c=I(),s=y(()=>c.activeGeneratorCount/c.maxActiveGenerators);return(u,p)=>{const e=N,x=L;return o(),P(x,{class:"overflow-hidden"},{default:m(()=>[t("div",ht,[t("div",ft,[t("div",vt,[t("div",xt,f(a(c).activeGeneratorCount),1),gt]),t("div",yt,[t("div",$t,f(a(c).maxActiveGenerators),1),kt]),t("div",Ct,[t("div",bt,f((100*a(s)).toFixed(2))+"% ",1),wt])])]),h(e,{progress:a(s)},null,8,["progress"])]),_:1})}}}),Pt={},Bt={class:"space-y-8"},It={class:"text-3xl font-bold flex items-center gap-4"},Tt=t("span",null,"Factory",-1),At={class:"grid grid-cols-1 gap-8",xl:"grid-cols-2"};function Ft(n,c){const s=E,u=Lt,p=mt,e=tt;return o(),i("div",Bt,[t("h1",It,[h(s),Tt]),h(u),t("div",At,[h(p),h(e)])])}var Et=B(Pt,[["render",Ft]]);export{Et as default};
