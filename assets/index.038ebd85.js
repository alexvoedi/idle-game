import{_ as T,u as A,a as G,b as F,c as N,d as O,e as q}from"./index.a074a283.js";import{_ as L}from"./Table.d2eec92a.js";import{o as a,e as h,g as t,f as I,i as C,G as k,H as z,J as B,u as c,s as S,k as d,j as _,q as b,t as f,F as w,p as M,m as j}from"./vendor.6b5c0dfd.js";import{_ as E}from"./clock.05204a6b.js";import{_ as D}from"./ProgressBar.4e3b7b32.js";const H={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},J=t("path",{fill:"currentColor",d:"M2 19.63L13.43 8.2l-.71-.7l1.42-1.43L12 3.89c1.2-1.19 3.09-1.19 4.27 0l3.6 3.61l-1.42 1.41h2.84l.71.71l-3.55 3.59l-.71-.71V9.62l-1.47 1.42l-.71-.71L4.13 21.76L2 19.63Z"},null,-1),R=[J];function Y(o,n){return a(),h("svg",H,R)}var Z={name:"mdi-hammer",render:Y};const K=["width","height","viewBox"],Q=["cx","cy","r","stroke-dasharray","stroke-dashoffset"],U=["cx","cy","r","stroke-dasharray","stroke-dashoffset"],V=I({props:{progress:null},setup(o){const n=o,e=C(10),l=k(()=>2*e.value),p=C(!0);z(()=>{n.progress===0&&(p.value=!p.value)});const s=k(()=>2*Math.PI*(e.value-2));return(i,x)=>(a(),h("svg",{width:c(l),height:c(l),viewBox:`0 0 ${c(l)} ${c(l)}`,class:"transform rotate-270"},[t("circle",{class:B([p.value?"stroke-indigo-600":"stroke-emerald-500"]),cx:e.value,cy:e.value,r:e.value-2,fill:"none","stroke-width":"3","stroke-dasharray":c(s),"stroke-dashoffset":(1-c(s))*o.progress},null,10,Q),t("circle",{class:B([p.value?"stroke-emerald-500":"stroke-indigo-600"]),cx:e.value,cy:e.value,r:e.value-2,fill:"none","stroke-width":"3","stroke-dasharray":c(s),"stroke-dashoffset":c(s)*(1-o.progress)},null,10,U)],8,K))}});const W=o=>(M("data-v-068a9dc4"),o=o(),j(),o),X=W(()=>t("div",{class:"px-8 pt-6"},[t("h2",{class:"text-2xl font-bold"},"Inactive Productions")],-1)),tt={class:"text-right"},et={class:"text-right"},st={class:"text-right"},ot={class:"text-right"},nt={class:"flex justify-end"},ct=["onClick"],rt=I({setup(o){const n=A(),{getItem:e}=G(),l=k(()=>n.generators.filter(s=>!s.active).map(s=>{const{output:i,input:x}=s.blueprint,v=n.calculateProductionTime(s);return{generator:s,productionTime:v.toFixed(2),progress:s.timer/v,output:i.map(u=>({name:e(u.id).name,amount:u.amount})),input:x==null?void 0:x.map(u=>({name:e(u.id).name,amount:u.amount}))}})),p=C([{id:"progress",text:"",field:"progress",classes:"w-10"},{id:"output",text:"Output",field:"output",classes:"text-right font-mono"},{id:"input",text:"Input",field:"input",classes:"text-right",headerClasses:"text-center",bodyClasses:"font-mono"},{id:"productionTime",text:"",field:"productionTime",classes:"text-right",bodyClasses:"font-mono"},{id:"actions",text:"",field:"actions",bodyClasses:"text-right"}]);return(s,i)=>{const x=E,v=V,u=Z,m=L,$=F;return a(),S($,{class:"space-y-8 overflow-hidden"},{default:d(()=>[X,_(m,{items:c(l),columns:p.value},{"productionTime-header":d(()=>[_(x,{class:"ml-auto"})]),progress:d(({item:y})=>[_(v,{progress:y.progress},null,8,["progress"])]),output:d(({item:y})=>[(a(!0),h(w,null,b(y.output,(r,g)=>(a(),h("div",{key:g,class:"grid grid-cols-[4fr,1fr] gap-4"},[t("div",tt,f(r.name),1),t("div",et,f(r.amount),1)]))),128))]),input:d(({item:y})=>[(a(!0),h(w,null,b(y.input,(r,g)=>(a(),h("div",{key:g,class:"grid grid-cols-[4fr,1fr] gap-4"},[t("div",st,f(r.name),1),t("div",ot,f(r.amount),1)]))),128))]),actions:d(({item:y})=>[t("div",nt,[t("button",{onClick:r=>c(n).setGeneratorActive(y.generator,!0),class:"flex items-center"},[_(u)],8,ct)])]),_:1},8,["items","columns"])]),_:1})}}});var at=T(rt,[["__scopeId","data-v-068a9dc4"]]);const it=o=>(M("data-v-9f853b96"),o=o(),j(),o),dt=it(()=>t("div",{class:"px-8 pt-6"},[t("h2",{class:"text-2xl font-bold"},"Active Productions")],-1)),_t={class:"text-right"},lt={class:"text-right"},ut={class:"text-right"},pt={class:"text-right"},mt={class:"flex justify-end"},ht=["onClick"],ft=I({setup(o){const n=A(),e=N(),{getItem:l}=G(),p=k(()=>n.generators.filter(i=>i.active).map(i=>{const{output:x,input:v}=i.blueprint,u=n.calculateProductionTime(i);return{generator:i,productionTime:u.toFixed(2),progress:i.timer/u,output:x.map(m=>({name:l(m.id).name,amount:m.amount})),input:v==null?void 0:v.map(m=>{const $=e.getItem(m.id);return{name:l(m.id).name,amount:m.amount,hasEnough:$?m.amount>=$.amount:!1}})}})),s=C([{id:"progress",text:"",field:"progress",classes:"w-10"},{id:"output",text:"Output",field:"output",classes:"text-right font-mono"},{id:"input",text:"Input",field:"input",classes:"text-right",headerClasses:"text-center",bodyClasses:"font-mono"},{id:"productionTime",text:"",field:"productionTime",classes:"text-right",bodyClasses:"font-mono"},{id:"actions",text:"",field:"actions",bodyClasses:"text-right"}]);return(i,x)=>{const v=E,u=V,m=O,$=L,y=F;return a(),S(y,{class:"space-y-8 overflow-hidden"},{default:d(()=>[dt,_($,{items:c(p),columns:s.value},{"productionTime-header":d(()=>[_(v,{class:"ml-auto"})]),progress:d(({item:r})=>[_(u,{progress:r.progress},null,8,["progress"])]),output:d(({item:r})=>[(a(!0),h(w,null,b(r.output,(g,P)=>(a(),h("div",{key:P,class:"grid grid-cols-[4fr,1fr] gap-4"},[t("div",_t,f(g.name),1),t("div",lt,f(g.amount),1)]))),128))]),input:d(({item:r})=>[(a(!0),h(w,null,b(r.input,(g,P)=>(a(),h("div",{key:P},[t("div",{class:B([[r.hasEnough?"text-green-500":"text-red-500"],"grid grid-cols-[4fr,1fr] gap-4"])},[t("div",ut,f(g.name),1),t("div",pt,f(g.amount),1)],2)]))),128))]),actions:d(({item:r})=>[t("div",mt,[t("button",{onClick:g=>c(n).setGeneratorActive(r.generator,!1),class:"flex items-center"},[_(m)],8,ht)])]),_:1},8,["items","columns"])]),_:1})}}});var vt=T(ft,[["__scopeId","data-v-9f853b96"]]);const gt={class:"px-12 py-6"},xt={class:"flex items-center justify-between gap-16"},yt={class:"text-center"},$t={class:"font-bold text-4xl font-mono"},kt=t("div",{class:"text-sm"},"Active Productions",-1),Ct={class:"text-center"},bt={class:"font-bold text-4xl font-mono"},wt=t("div",{class:"text-sm"},"Maximum Production",-1),It={class:"text-center"},Pt={class:"font-bold text-4xl font-mono"},Bt=t("div",{class:"text-sm"},"Percent Active",-1),Tt=I({setup(o){const n=A(),e=k(()=>n.activeGeneratorCount/n.maxActiveGenerators);return(l,p)=>{const s=D,i=F;return a(),S(i,{class:"overflow-hidden"},{default:d(()=>[t("div",gt,[t("div",xt,[t("div",yt,[t("div",$t,f(c(n).activeGeneratorCount),1),kt]),t("div",Ct,[t("div",bt,f(c(n).maxActiveGenerators),1),wt]),t("div",It,[t("div",Pt,f((100*c(e)).toFixed(2))+"% ",1),Bt])])]),_(s,{progress:c(e)},null,8,["progress"])]),_:1})}}}),At={},Ft={class:"space-y-8"},St={class:"text-3xl font-bold flex items-center gap-4"},Gt=t("span",null,"Factory",-1),Lt={class:"grid grid-cols-1 gap-8",xl:"grid-cols-2"};function Mt(o,n){const e=q,l=Tt,p=vt,s=at;return a(),h("div",Ft,[t("h1",St,[_(e),Gt]),_(l),t("div",Lt,[_(p),_(s)])])}var qt=T(At,[["render",Mt]]);export{qt as default};
