import{_ as P}from"./BaseCard.2eefc81d.js";import{_ as S}from"./Table.c185f954.js";import{o as i,e as p,f as t,h as I,C,D as k,E as D,G as B,u as c,k as T,w as d,j as _,i as b,t as f,F as w,p as G,n as M}from"./vendor.a731fa3c.js";import{_ as E}from"./clock.a4a62f5b.js";import{_ as A,u as F,a as j,b as N,c as O}from"./index.d93fea21.js";import{_ as R}from"./ProgressBar.cf89d9d4.js";const Y={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},Z=t("path",{fill:"currentColor",d:"M2 19.63L13.43 8.2l-.71-.7l1.42-1.43L12 3.89c1.2-1.19 3.09-1.19 4.27 0l3.6 3.61l-1.42 1.41h2.84l.71.71l-3.55 3.59l-.71-.71V9.62l-1.47 1.42l-.71-.71L4.13 21.76L2 19.63Z"},null,-1),z=[Z];function q(o,n){return i(),p("svg",Y,z)}var H={name:"mdi-hammer",render:q};const J=["width","height","viewBox"],K=["cx","cy","r","stroke-dasharray","stroke-dashoffset"],Q=["cx","cy","r","stroke-dasharray","stroke-dashoffset"],V=I({props:{progress:null},setup(o){const n=o,e=C(10),l=k(()=>2*e.value),m=C(!0);D(()=>{n.progress===0&&(m.value=!m.value)});const s=k(()=>2*Math.PI*(e.value-2));return(a,g)=>(i(),p("svg",{width:c(l),height:c(l),viewBox:`0 0 ${c(l)} ${c(l)}`,class:"transform rotate-270"},[t("circle",{class:B([m.value?"stroke-indigo-600":"stroke-emerald-500"]),cx:e.value,cy:e.value,r:e.value-2,fill:"none","stroke-width":"3","stroke-dasharray":c(s),"stroke-dashoffset":(1-c(s))*o.progress},null,10,K),t("circle",{class:B([m.value?"stroke-emerald-500":"stroke-indigo-600"]),cx:e.value,cy:e.value,r:e.value-2,fill:"none","stroke-width":"3","stroke-dasharray":c(s),"stroke-dashoffset":c(s)*(1-o.progress)},null,10,Q)],8,J))}});const U=o=>(G("data-v-068a9dc4"),o=o(),M(),o),W=U(()=>t("div",{class:"px-8 pt-6"},[t("h2",{class:"text-2xl font-bold"},"Inactive Productions")],-1)),X={class:"text-right"},tt={class:"text-right"},et={class:"text-right"},st={class:"text-right"},ot={class:"flex justify-end"},nt=["onClick"],ct=I({setup(o){const n=F(),{getItem:e}=j(),l=k(()=>n.generators.filter(s=>!s.active).map(s=>{const{output:a,input:g}=s.blueprint,v=n.calculateProductionTime(s);return{generator:s,productionTime:v.toFixed(2),progress:s.timer/v,output:a.map(u=>({name:e(u.id).name,amount:u.amount})),input:g==null?void 0:g.map(u=>({name:e(u.id).name,amount:u.amount}))}})),m=C([{id:"progress",text:"",field:"progress",classes:"w-10"},{id:"output",text:"Output",field:"output",classes:"text-right font-mono"},{id:"input",text:"Input",field:"input",classes:"text-right",headerClasses:"text-center",bodyClasses:"font-mono"},{id:"productionTime",text:"",field:"productionTime",classes:"text-right",bodyClasses:"font-mono"},{id:"actions",text:"",field:"actions",bodyClasses:"text-right"}]);return(s,a)=>{const g=E,v=V,u=H,h=S,y=P;return i(),T(y,{class:"space-y-8 overflow-hidden"},{default:d(()=>[W,_(h,{items:c(l),columns:m.value},{"productionTime-header":d(()=>[_(g,{class:"ml-auto"})]),progress:d(({item:$})=>[_(v,{progress:$.progress},null,8,["progress"])]),output:d(({item:$})=>[(i(!0),p(w,null,b($.output,(r,x)=>(i(),p("div",{key:x,class:"grid grid-cols-[4fr,1fr] gap-4"},[t("div",X,f(r.name),1),t("div",tt,f(r.amount),1)]))),128))]),input:d(({item:$})=>[(i(!0),p(w,null,b($.input,(r,x)=>(i(),p("div",{key:x,class:"grid grid-cols-[4fr,1fr] gap-4"},[t("div",et,f(r.name),1),t("div",st,f(r.amount),1)]))),128))]),actions:d(({item:$})=>[t("div",ot,[t("button",{onClick:r=>c(n).setGeneratorActive($.generator,!0),class:"flex items-center"},[_(u)],8,nt)])]),_:1},8,["items","columns"])]),_:1})}}});var rt=A(ct,[["__scopeId","data-v-068a9dc4"]]);const it={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},at=t("path",{fill:"currentColor",d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"},null,-1),dt=[at];function _t(o,n){return i(),p("svg",it,dt)}var lt={name:"mdi-close",render:_t};const ut=o=>(G("data-v-9f853b96"),o=o(),M(),o),pt=ut(()=>t("div",{class:"px-8 pt-6"},[t("h2",{class:"text-2xl font-bold"},"Active Productions")],-1)),mt={class:"text-right"},ht={class:"text-right"},ft={class:"text-right"},vt={class:"text-right"},xt={class:"flex justify-end"},gt=["onClick"],$t=I({setup(o){const n=F(),e=N(),{getItem:l}=j(),m=k(()=>n.generators.filter(a=>a.active).map(a=>{const{output:g,input:v}=a.blueprint,u=n.calculateProductionTime(a);return{generator:a,productionTime:u.toFixed(2),progress:a.timer/u,output:g.map(h=>({name:l(h.id).name,amount:h.amount})),input:v==null?void 0:v.map(h=>{const y=e.getItem(h.id);return{name:l(h.id).name,amount:h.amount,hasEnough:y?h.amount>=y.amount:!1}})}})),s=C([{id:"progress",text:"",field:"progress",classes:"w-10"},{id:"output",text:"Output",field:"output",classes:"text-right font-mono"},{id:"input",text:"Input",field:"input",classes:"text-right",headerClasses:"text-center",bodyClasses:"font-mono"},{id:"productionTime",text:"",field:"productionTime",classes:"text-right",bodyClasses:"font-mono"},{id:"actions",text:"",field:"actions",bodyClasses:"text-right"}]);return(a,g)=>{const v=E,u=V,h=lt,y=S,$=P;return i(),T($,{class:"space-y-8 overflow-hidden"},{default:d(()=>[pt,_(y,{items:c(m),columns:s.value},{"productionTime-header":d(()=>[_(v,{class:"ml-auto"})]),progress:d(({item:r})=>[_(u,{progress:r.progress},null,8,["progress"])]),output:d(({item:r})=>[(i(!0),p(w,null,b(r.output,(x,L)=>(i(),p("div",{key:L,class:"grid grid-cols-[4fr,1fr] gap-4"},[t("div",mt,f(x.name),1),t("div",ht,f(x.amount),1)]))),128))]),input:d(({item:r})=>[(i(!0),p(w,null,b(r.input,(x,L)=>(i(),p("div",{key:L},[t("div",{class:B([[r.hasEnough?"text-green-500":"text-red-500"],"grid grid-cols-[4fr,1fr] gap-4"])},[t("div",ft,f(x.name),1),t("div",vt,f(x.amount),1)],2)]))),128))]),actions:d(({item:r})=>[t("div",xt,[t("button",{onClick:x=>c(n).setGeneratorActive(r.generator,!1),class:"flex items-center"},[_(h)],8,gt)])]),_:1},8,["items","columns"])]),_:1})}}});var yt=A($t,[["__scopeId","data-v-9f853b96"]]);const kt={class:"px-12 py-6"},Ct={class:"flex items-center justify-between gap-16"},bt={class:"text-center"},wt={class:"font-bold text-4xl font-mono"},It=t("div",{class:"text-sm"},"Active Productions",-1),Lt={class:"text-center"},Bt={class:"font-bold text-4xl font-mono"},Pt=t("div",{class:"text-sm"},"Maximum Production",-1),Tt={class:"text-center"},At={class:"font-bold text-4xl font-mono"},Ft=t("div",{class:"text-sm"},"Percent Active",-1),St=I({setup(o){const n=F(),e=k(()=>n.activeGeneratorCount/n.maxActiveGenerators);return(l,m)=>{const s=R,a=P;return i(),T(a,{class:"overflow-hidden"},{default:d(()=>[t("div",kt,[t("div",Ct,[t("div",bt,[t("div",wt,f(c(n).activeGeneratorCount),1),It]),t("div",Lt,[t("div",Bt,f(c(n).maxActiveGenerators),1),Pt]),t("div",Tt,[t("div",At,f((100*c(e)).toFixed(2))+"% ",1),Ft])])]),_(s,{progress:c(e)},null,8,["progress"])]),_:1})}}}),Gt={},Mt={class:"space-y-8"},Et={class:"text-3xl font-bold flex items-center gap-4"},jt=t("span",null,"Factory",-1),Vt={class:"grid grid-cols-1 gap-8",xl:"grid-cols-2"};function Dt(o,n){const e=O,l=St,m=yt,s=rt;return i(),p("div",Mt,[t("h1",Et,[_(e),jt]),_(l),t("div",Vt,[_(m),_(s)])])}var qt=A(Gt,[["render",Dt]]);export{qt as default};
