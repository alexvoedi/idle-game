import{c as G,a as M,b as A,d as B,e as d,o as u,f as p,g as c,h as I,r as T,F as L,i as O,j as y,w as k,k as H,l as N,t as V,u as w,p as F,m as j,n as z,q as D,s as U,v as b,x as J,I as P,y as K,z as Y}from"./vendor.5d568dd9.js";const Z=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}};Z();const Q="modulepreload",R={},X="/idle-game/",_=function(t,n){return!n||n.length===0?t():Promise.all(n.map(r=>{if(r=`${X}${r}`,r in R)return;R[r]=!0;const s=r.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${o}`))return;const i=document.createElement("link");if(i.rel=s?"stylesheet":Q,s||(i.as="script",i.crossOrigin=""),i.href=r,document.head.appendChild(i),s)return new Promise((l,v)=>{i.addEventListener("load",l),i.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())},ee=[{path:"/factory",name:"Factory",component:()=>_(()=>import("./index.ce1755a7.js"),["assets/index.ce1755a7.js","assets/index.02da707c.css","assets/BaseCard.e8cd9ecc.js","assets/vendor.5d568dd9.js"])},{path:"/inventory",name:"Inventory",component:()=>_(()=>import("./index.b0e543d7.js"),["assets/index.b0e543d7.js","assets/index.63648099.css","assets/BaseCard.e8cd9ecc.js","assets/vendor.5d568dd9.js"])},{path:"/science",name:"Science",component:()=>_(()=>import("./index.107760eb.js"),["assets/index.107760eb.js","assets/index.17c3b17c.css","assets/BaseCard.e8cd9ecc.js","assets/vendor.5d568dd9.js"])}],te=G({history:M("/idle-game/"),routes:ee});var re={hello:e=>{const{normalize:t}=e;return t(["Hello World"])}},ne=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:re});const se=Object.fromEntries(Object.entries({"../../i18n/en.yml":ne}).map(([e,t])=>{const n=e.endsWith(".yaml");return[e.slice(11,n?-5:-4),t.default]})),oe=A({legacy:!1,locale:"en",messages:se}),S=B(),ie={effects:[]},W=d("effect",{state:()=>ie,actions:{addEffects(e){e.forEach(t=>this.addEffect(t))},addEffect(e){this.hasEffect(e.name)||this.effects.push(e)},hasEffect(e){return this.effects.some(t=>t.name===e)}},getters:{}}),ae={inventory:[],storage:2500},f=d("inventory",{state:()=>ae,actions:{addItem(e){if(!this.hasInventorySpace)return;const t=this.inventory.find(n=>n.item===e);t?t.amount++:this.inventory.push({item:e,amount:1})},spendItems(e){const t=f();e.forEach(n=>{const r=t.inventory.find(s=>s.item===n.item);r&&(r.amount-=n.amount)})},hasItems(e){return e.every(t=>{const n=this.inventory.find(r=>r.item===t.item);return n?n.amount>=t.amount:!1})}},getters:{remainingInventorySpace:e=>{const t=e.inventory.reduce((n,r)=>n+r.amount,0);return e.storage-t},hasInventorySpace(){return this.remainingInventorySpace>0}}});var a=(e=>(e.Capacitor="Capacitor",e.Cog="Cog",e.Copper="Copper",e.CopperWire="Copper Wire",e.ElectricCoil="Electric Coil",e.ElectricGenerator="Electric Generator",e.ElectricRelay="Electric Relay",e.ElectricResistor="Electric Resistor",e.ElectricSwitch="Electric Switch",e.Glass="Glass",e.InsulatedWire="Insulated Wire",e.Iron="Iron",e.Magnet="Magnet",e.Magnetit="Magnetit",e.Methan="Methan",e.Petroleum="Petroleum",e.Plastic="Plastic",e.Sand="Sand",e.Screw="Screw",e.Stone="Stone",e.Water="Water",e.Wood="Wood",e.WoodenChair="Wooden Chair",e.WoodenPlank="Wooden Plank",e))(a||{}),E=(e=>(e.Alpha="Test 1",e.Beta="Test 2",e))(E||{});const ce=[{name:"Test 1",researchTime:10,requirements:{items:[{item:a.Water,amount:5},{item:a.CopperWire,amount:1}],sciences:[]}},{name:"Test 2",researchTime:5,requirements:{items:[{item:a.Water,amount:5},{item:a.CopperWire,amount:1}],sciences:["Test 1"]}}],q=[{item:a.Copper,productionTime:4,requirements:{sciences:[]},ingredients:[]},{item:a.Iron,productionTime:6,requirements:{sciences:[]},ingredients:[]},{item:a.Water,productionTime:1,requirements:{sciences:[]},ingredients:[]},{item:a.Sand,productionTime:1,requirements:{sciences:[]},ingredients:[]},{item:a.Stone,productionTime:1,requirements:{sciences:[]},ingredients:[]},{item:a.Magnetit,productionTime:600,requirements:{sciences:[]},ingredients:[]},{item:a.CopperWire,productionTime:4,requirements:{sciences:[]},ingredients:[{item:a.Copper,amount:3}]},{item:a.Plastic,productionTime:2,requirements:{sciences:[]},ingredients:[]}],le=[...q,{item:a.InsulatedWire,productionTime:6,requirements:{sciences:[E.Alpha]},ingredients:[{item:a.CopperWire,amount:1},{item:a.Plastic,amount:2}]}];var C=(e=>(e[e.ProductionSpeed=0]="ProductionSpeed",e))(C||{});const ue=[{name:"Faster Production",type:0,requirements:{sciences:[E.Alpha]},item:{name:a.Copper,value:1.25}}],de={generators:q.map(e=>({blueprint:e,timer:0,active:!0,effects:[]}))},h=d("generator",{state:()=>de,actions:{addGenerators(e,t=[]){e.forEach(n=>{this.generators.push({blueprint:n,timer:0,active:!1,effects:t})})},generate(e){const t=f(),n=this.generators.filter(r=>r.active);for(const r of n)if(!(t.remainingInventorySpace<1))if(r.timer===0)t.hasItems(r.blueprint.ingredients)&&(r.timer+=e,t.spendItems(r.blueprint.ingredients));else{r.timer+=e;const s=this.calculateProductionTime(r);r.timer>=s&&(r.timer=0,t.addItem(r.blueprint.item))}},calculateProductionTime(e){return e.effects.reduce((t,n)=>n.type===C.ProductionSpeed?t/n.item.value:t,e.blueprint.productionTime)}},getters:{}}),me={currentResearch:null,researched:[]},x=d("science",{state:()=>me,actions:{startResearch(e){const t=f();t.hasItems(e.requirements.items)&&(t.spendItems(e.requirements.items),this.currentResearch={science:e,time:0})},research(e){this.currentResearch&&(this.currentResearch.time+=e,this.currentResearch.time>=this.currentResearch.science.researchTime&&this.finishResearch(this.currentResearch.science))},finishResearch(e){this.researched.push(e.name),this.loadNewGenerators(e),this.loadNewEffects(e),this.currentResearch=null},loadNewGenerators(e){const t=h(),n=le.filter(r=>{r.requirements.sciences.includes(e.name)});t.addGenerators(n)},loadNewEffects(e){const t=h(),n=W(),r=ue.filter(s=>s.requirements.sciences.includes(e.name));n.addEffects(r),r.forEach(s=>{if(s.type===C.ProductionSpeed){const o=t.generators.find(i=>i.blueprint.item===s.item.name);o==null||o.effects.push(s)}})}},getters:{availableSciences:e=>ce.filter(t=>{var s;const n=t.requirements.sciences.every(o=>e.researched.includes(o)),r=((s=e.currentResearch)==null?void 0:s.science.name)===t.name;return n&&!r})}}),pe={timePassed:0},$=d("base",{state:()=>pe,actions:{update(e){const t=h(),n=x();t.generate(e),n.research(e),this.timePassed+=e},resetGame(){this.$reset();const e=h(),t=f(),n=x(),r=W();e.$reset(),t.$reset(),n.$reset(),r.$reset()}},getters:{}}),he={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},fe=c("path",{fill:"currentColor",d:"M4 18v2h4v-2H4m0-4v2h10v-2H4m6 4v2h4v-2h-4m6-4v2h4v-2h-4m0 4v2h4v-2h-4M2 22V8l5 4V8l5 4V8l5 4l1-10h3l1 10v10H2Z"},null,-1),ve=[fe];function _e(e,t){return u(),p("svg",he,ve)}var g={name:"mdi-factory",render:_e};var ge=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n};const ye=e=>(F("data-v-4b036d93"),e=e(),j(),e),Se={class:"h-16 flex justify-between items-center bg-true-gray-800 px-8"},Ee=ye(()=>c("div",{class:"text-2xl"},"Factorior",-1)),Ce={class:"space-x-12 flex justify-center items-center"},we=I({setup(e){const t=$(),n=[{to:"Inventory",text:"Inventory",icon:g},{to:"Factory",text:"Factory",icon:g},{to:"Science",text:"Science",icon:g}];return(r,s)=>{const o=T("router-link");return u(),p("nav",Se,[Ee,c("div",Ce,[(u(),p(L,null,O(n,i=>y(o,{key:i.to,to:{name:i.to},class:"flex justify-center items-center gap-2"},{default:k(()=>[(u(),H(N(i.icon))),c("span",null,V(i.text),1)]),_:2},1032,["to"])),64))]),c("div",null,[c("button",{onClick:s[0]||(s[0]=(...i)=>w(t).resetGame&&w(t).resetGame(...i))},"clear")])])}}});var be=ge(we,[["__scopeId","data-v-4b036d93"]]);const Pe={class:"text-true-gray-200"},Re={class:"gap-16 p-8"},xe=I({setup(e){const t=$(),n=()=>{const o=b.get("alexvoedi-idle-game");o&&(S.state.value=o)};let r;const s=()=>{let o=Date.now();r=setInterval(()=>{const i=Date.now(),l=i-o;t.update(l/1e3),o=i},20)};return z(async()=>{n(),s()}),D(S.state,o=>{b.set("alexvoedi-idle-game",J(o))},{deep:!0}),U(()=>{clearInterval(r)}),(o,i)=>{const l=be,v=T("router-view");return u(),p("div",Pe,[y(l),c("div",Re,[y(v)])])}}});const Ie=P.default||P,Te=JSON.parse('[{"prefix":"fontisto","width":24,"height":24,"icons":{"laboratory":{"body":"<path fill=\\"currentColor\\" d=\\"M22.171 19.68L14.819 8.369V2.962h1.708V0H6.098v2.965H7.82v5.407L.454 19.68A2.792 2.792 0 0 0 2.791 24h17.034a2.8 2.8 0 0 0 2.34-4.331l.007.011zm-.905 2.302a1.633 1.633 0 0 1-1.434.854H2.791a1.635 1.635 0 0 1-1.37-2.531l-.004.006l7.549-11.6V2.96h4.686v5.754l7.541 11.6c.17.251.272.561.272.895c0 .285-.074.553-.204.785l.004-.008z\\"/><path fill=\\"currentColor\\" d=\\"M14.412 12.351H8.221l-5.655 8.698a.287.287 0 0 0-.012.299l-.001-.001c.05.087.142.145.248.146h17.032a.283.283 0 0 0 .247-.145l.001-.001a.283.283 0 0 0-.013-.298l.001.001z\\"/>","width":23}}}]');Te.forEach(e=>Ie.addCollection(e));const m=K(xe),We=Y();m.use(te);m.use(S);m.use(We);m.use(oe);m.mount("#app");export{ge as _,f as a,x as b,h as u};
